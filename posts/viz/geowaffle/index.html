<!DOCTYPE html>
<html lang="uk">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta property="og:image" content="https://texturainua.github.io/thumbnail.png" />
	<meta itemprop="name" content="Візуалізація: Результати другого туру виборів Президента України 2019 року, geowaffle chart">
<meta itemprop="description" content="Спроба поєднати waffle chart із geofacet.
 geowaffle chart
  Як я вже писав раніше, geofaceting дозволяє впорядковувати панелі із графіками таким чином, що їхнє розташування буде відтворювати розташування регіонів, країн, штатів, областей, міст на карті.
Створені в такий спосіб візуалізації поєднують в собі властивості карти та графіку, вони дозволяють створювати small multiples із великою кількістю даних і при цьому надають можливість простежувати регіональні тренди.
Разом з тим waffle charts - це доволі непогана альтернатива секторним діаграмам (простіше пай-чартам).">


<meta itemprop="datePublished" content="2019-06-22T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-06-22T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="312">



<meta itemprop="keywords" content="вибори,візуалізація," />
<meta property="og:title" content="Візуалізація: Результати другого туру виборів Президента України 2019 року, geowaffle chart" />
<meta property="og:description" content="Спроба поєднати waffle chart із geofacet.
 geowaffle chart
  Як я вже писав раніше, geofaceting дозволяє впорядковувати панелі із графіками таким чином, що їхнє розташування буде відтворювати розташування регіонів, країн, штатів, областей, міст на карті.
Створені в такий спосіб візуалізації поєднують в собі властивості карти та графіку, вони дозволяють створювати small multiples із великою кількістю даних і при цьому надають можливість простежувати регіональні тренди.
Разом з тим waffle charts - це доволі непогана альтернатива секторним діаграмам (простіше пай-чартам)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://texturainua.github.io/posts/viz/geowaffle/" />

<meta property="og:image" content="https://texturainua.github.io/thumbnail.png" />
<meta property="article:published_time" content="2019-06-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-06-22T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://texturainua.github.io/thumbnail.png"/>

<meta name="twitter:title" content="Візуалізація: Результати другого туру виборів Президента України 2019 року, geowaffle chart"/>
<meta name="twitter:description" content="Спроба поєднати waffle chart із geofacet.
 geowaffle chart
  Як я вже писав раніше, geofaceting дозволяє впорядковувати панелі із графіками таким чином, що їхнє розташування буде відтворювати розташування регіонів, країн, штатів, областей, міст на карті.
Створені в такий спосіб візуалізації поєднують в собі властивості карти та графіку, вони дозволяють створювати small multiples із великою кількістю даних і при цьому надають можливість простежувати регіональні тренди.
Разом з тим waffle charts - це доволі непогана альтернатива секторним діаграмам (простіше пай-чартам)."/>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">
	<title>-текстура-</title>
	<link rel="stylesheet" href="https://texturainua.github.io/css/style.min.e8eb45143fbe384978af8c624bc9641cf39138512edefb3d2a494b743ed28a95.css">
	
	<link rel="stylesheet" href="https://texturainua.github.io/css/main.css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed|Ubuntu+Mono" rel="stylesheet">
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://texturainua.github.io/">-текстура-</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					<a href="https://texturainua.github.io/posts/">-дописи-</a>
				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="http://us13.campaign-archive1.com/home/?u=3e3ed2b4959dad6721a65f7f5&amp;id=24ba602e3d" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://facebook.com/textura.in.ua" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a><a href="https://twitter.com/AndriyGazin" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://github.com/andriy-gazin" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast" style="display: none;">
		<ul>
			<li><a href="https://texturainua.github.io/posts/">-дописи-</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<h1>Візуалізація: Результати другого туру виборів Президента України 2019 року, geowaffle chart</h1>
				<div class="post-meta"><span>2019-06-22</span></div>
			</header>
			<div class="content">
				<p><em>Спроба поєднати waffle chart із geofacet</em>.</p>

<figure class="big">
    <img src="https://github.com/andriy-gazin/geowaffle/raw/master/geowaffle.png"
         alt="geowaffle chart"/> <figcaption>
            <p>geowaffle chart</p>
        </figcaption>
</figure>


<p><a href="https://textura.in.ua/posts/viz/ukraine-population-grown-rate/" target="_blank">Як я вже писав раніше</a>, geofaceting дозволяє впорядковувати панелі із графіками таким чином, що їхнє розташування буде відтворювати розташування регіонів, країн, штатів, областей, міст на карті.</p>

<p>Створені в такий спосіб візуалізації поєднують в собі властивості карти та графіку, вони дозволяють створювати small multiples із великою кількістю даних і при цьому надають можливість простежувати регіональні тренди.</p>

<p>Разом з тим waffle charts - це доволі непогана альтернатива секторним діаграмам (простіше пай-чартам). Якщо ви ще не бачили, є <a href="https://github.com/hrbrmstr/waffle" target="_blank">симпатична бібліотека для R, котра так і називається - waffle</a>. Нова версія бібліотеки запроваджує <code>geom_waffle()</code> для бібліотеки ggplot2. Тож у мене виникла ідея поєднати <code>waffle::geom_waffle()</code> та <code>geofacet::facet_geo()</code>.</p>

<p>Щоправда, одразу це не спрацювало, оскільки функція <code>waffle::geom_waffle()</code> ще є експериментальною, і не працює з коробки в поєднанні з функцією <code>geofacet::facet_geo()</code>. Але, використовуючи <a href="https://stackoverflow.com/questions/52741666/creating-a-waffle-plot-together-with-facets-in-ggplot2" target="_blank">надані автором бібліотеки waffle приклади коду</a>, я доволі швидко імплементував логіку трансформації даних, необхідну для створення візуалізації.</p>

<p>Для тесту я обрав результати другого туру виборів Президента України 2019 року, оскільки тут всього дві категорії. Згодом хочу потестувати цей підхід на більшій кількості категорій (наприклад, взяти перший тур виборів Президента, або результати виборів до Верховної Ради). Цікавить, наскільки добре буде читатись така візуалізація, якщо категорій не дві, а, скажімо, чотири чи п&rsquo;ять. А також в який спосіб розташовувати підписи значень для цих категорій.</p>

<p>Звісно, ці ж самі дані можна було показати, використовуючи звичайний stacked bar chart. Але мені видається, що waffle chart робить ці дані менш абстрактними - один прямокутник дорівнює одному відсотку. Простий і зрозумілий спосіб кодування. Правда, тут є один недолік - за такого способу кодування &ldquo;з&rsquo;їдаються&rdquo; десяткові значення. Можна, звісно, дробити прямокутники, але це в свою чергу викличе проблеми з їх вписуванням у сітку.</p>

<hr />

<p>Також принагідно я зробив невеличкий наклад поштових карток формату А5 із цим паттерном. Думаю згодом додруковувати, але щоразу з іншими кольорами, тоді кожен наклад буде унікальним.</p>

<figure class="big">
    <img src="https://github.com/andriy-gazin/geowaffle/raw/master/postcard.png"
         alt="geowaffle postcard"/> <figcaption>
            <p>geowaffle postcard</p>
        </figcaption>
</figure>


<hr />

<p><a href="https://github.com/andriy-gazin/geowaffle" target="_blank">Код і дані на GitHub</a></p>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://texturainua.github.io/tags/%D0%B2%D0%B8%D0%B1%D0%BE%D1%80%D0%B8">вибори</a></span><span class="tag"><a href="https://texturainua.github.io/tags/%D0%B2%D1%96%D0%B7%D1%83%D0%B0%D0%BB%D1%96%D0%B7%D0%B0%D1%86%D1%96%D1%8F">візуалізація</a></span>
				</p>
				
				
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="https://texturainua.github.io/posts/viz/convocations/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Нові</span><br><span>Візуалізація: Як оновлювався склад Верховної Ради</span>
			</a>
			<a class="prev-post" href="https://texturainua.github.io/posts/ed/colors/">
				<span class="post-nav-label">Старі&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>Посилання: Сервіси для підбору кольорів</span>
			</a>
		</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://texturainua.github.io/">Андрій Газін</a></p>
		<p>Зроблено з <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Тема <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://texturainua.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></p>
	</footer>

	<script>let haveHeader = true;</script>

	<script src="https://texturainua.github.io/js/main.min.7fb60d49ca60edf9439e867daffe2481a9722cacdbe91e2a8b3c84c36d540bab.js"</script>
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-36177403-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
